{"version":3,"sources":["webpack:///./src/views/Oauth.vue?cfbf","webpack:///src/views/Oauth.vue","webpack:///./src/views/Oauth.vue?f7e2","webpack:///./src/views/Oauth.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","waitTimeCount","waitTimeText","staticRenderFns","name","components","SimpleNotes","data","methods","setWaitTimeCount","created","setInterval","$DevMode","setTimeout","localStorage","token","tokenAdmin","githubId","username","userBio","type","text","timeout","axios","post","code","$route","query","Response","result","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,YAAc,eAAe,cAAgB,qBAAqB,OAAS,UAAUH,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,SAAS,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,kBAAkBV,EAAIQ,GAAG,SAASJ,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIW,sBAAsB,MAC9eC,EAAkB,G,YCgBtB,GACEC,KAAM,QACNC,WAAY,CACVC,YAAJ,QAEEC,KAAM,WAAR,OACA,gBACA,kBAEEC,QAAS,CACPC,iBADJ,WAGM,OADAjB,KAAKS,eAAiB,EACdT,KAAKS,eACX,KAAK,EACHT,KAAKU,aAAe,sBACpB,MACF,KAAK,GACHV,KAAKU,aAAe,wBACpB,MACF,KAAK,GACHV,KAAKU,aAAe,eACpB,MACF,QACE,SAIRQ,QA3BF,WA2BA,WACIC,YAAYnB,KAAKiB,iBAAkB,KAC/BjB,KAAKoB,SACPC,YAAW,WACTC,aAAaC,MAAQ,QACrBD,aAAaE,WAAa,aAC1BF,aAAaG,SAAW,WACxBH,aAAaI,SAAW,WACxBJ,aAAaK,QAAU,UACvB,EAAR,0BACUC,KAAM,UACNC,KAAM,gBACNC,QAAS,OAEX,EAAR,2BACA,KAKI9B,KAAK+B,MAAMC,KAAK,sBAAuB,CACrCC,KAAMjC,KAAKkC,OAAOC,MAAMF,OAC9B,kBAEgC,KAAtBG,EAASrB,KAAKkB,MAChBX,aAAaC,MAAQa,EAASrB,KAAKsB,OAAOd,MAC1CD,aAAaG,SAAWW,EAASrB,KAAKsB,OAAOZ,SAC7CH,aAAaI,SAAWU,EAASrB,KAAKsB,OAAOX,SAC7CJ,aAAaK,QAAUS,EAASrB,KAAKsB,OAAOV,QAExCS,EAASrB,KAAKsB,OAAOb,YACvBF,aAAaE,WAAaY,EAASrB,KAAKsB,OAAOb,WAC/C,EAAV,0BACYI,KAAM,UACNC,KAAM,mBACNC,QAAS,OAGX,EAAV,0BACYF,KAAM,UACNC,KAAM,gBACNC,QAAS,OAIb,EAAR,0BACUF,KAAM,QACNC,KAAM,iCACNC,QAAS,MAGb,EAAN,8BC/F+U,I,YCO3UQ,EAAY,eACd,EACAxC,EACAa,GACA,EACA,KACA,KACA,MAIa,aAAA2B,E","file":"js/chunk-2d0c72d5.fc21a2a7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pb-6\"},[_c('SimpleNotes',{attrs:{\"title\":\"与您一起\",\"icon\":\"fas fa-heart\",\"primaryText\":\"正在将您登录到我们的舰队\",\"secondaryText\":\"请稍等，成功后会自动跳转到首页...\",\"button\":\"hide\"}}),_c('div',{staticClass:\"text-center\"},[_c('div',{staticClass:\"pb-1\"},[_vm._v(\"您已经等待了 \"),_c('strong',[_vm._v(_vm._s(_vm.waitTimeCount))]),_vm._v(\" 秒钟\")]),_c('div',[_c('small',[_vm._v(_vm._s(_vm.waitTimeText))])])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"pb-6\">\n      <SimpleNotes title=\"与您一起\" icon=\"fas fa-heart\"\n          primaryText=\"正在将您登录到我们的舰队\"\n          secondaryText=\"请稍等，成功后会自动跳转到首页...\" button=\"hide\" />\n      <div class=\"text-center\">\n        <div class=\"pb-1\">您已经等待了 <strong>{{ waitTimeCount }}</strong> 秒钟</div>\n        <div><small>{{ waitTimeText }}</small></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SimpleNotes from '@/components/Model/SimpleNotes';\n\nexport default {\n  name: 'Oauth',\n  components: {\n    SimpleNotes,\n  },\n  data: () => ({\n    waitTimeCount: 0,\n    waitTimeText: '',\n  }),\n  methods: {\n    setWaitTimeCount() {\n      this.waitTimeCount += 1;\n      switch (this.waitTimeCount) {\n        case 5:\n          this.waitTimeText = '从 Github 读取您的信息中...';\n          break;\n        case 10:\n          this.waitTimeText = '这个过程花费的时间取决于您的网络状况...';\n          break;\n        case 15:\n          this.waitTimeText = '看着时间从眼前流逝...';\n          break;\n        default:\n          break;\n      }\n    },\n  },\n  created() {\n    setInterval(this.setWaitTimeCount, 1000);\n    if (this.$DevMode) {\n      setTimeout(() => {\n        localStorage.token = 'token';\n        localStorage.tokenAdmin = 'tokenAdmin';\n        localStorage.githubId = 'githubId';\n        localStorage.username = 'username';\n        localStorage.userBio = 'userBio';\n        this.$Bus.$emit('setSnackbar', {\n          type: 'success',\n          text: '嗨，欢迎回到我们的大航线！',\n          timeout: 6500,\n        });\n        this.$router.push({path: '/'});\n      }, 2000);\n      return;\n    }\n\n    // console.log(this.$route.query.code);\n    this.axios.post('/oauth/github/login', {\n      code: this.$route.query.code,\n    }).then((Response) => {\n      // console.log(Response.data);\n      if (Response.data.code == 200) {\n        localStorage.token = Response.data.result.token;\n        localStorage.githubId = Response.data.result.githubId;\n        localStorage.username = Response.data.result.username;\n        localStorage.userBio = Response.data.result.userBio;\n\n        if (Response.data.result.tokenAdmin) {\n          localStorage.tokenAdmin = Response.data.result.tokenAdmin;\n          this.$Bus.$emit('setSnackbar', {\n            type: 'success',\n            text: '嗨，长官，欢迎回到我们的大航线！',\n            timeout: 5000,\n          });\n        } else {\n          this.$Bus.$emit('setSnackbar', {\n            type: 'success',\n            text: '嗨，欢迎来到我们的大航线！',\n            timeout: 5000,\n          });\n        }\n      } else {\n        this.$Bus.$emit('setSnackbar', {\n          type: 'error',\n          text: 'Ops, 我们未能将您成功登录到我们的舰队，请稍后再次申请！',\n          timeout: 5000,\n        });\n      }\n      this.$router.push({path: '/'});\n    });\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Oauth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Oauth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Oauth.vue?vue&type=template&id=883f4eb8&\"\nimport script from \"./Oauth.vue?vue&type=script&lang=js&\"\nexport * from \"./Oauth.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}