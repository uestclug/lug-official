<template>
  <v-row>
    <v-col
      cols="6"
      md="4"
      lg="3"
      v-for="serve in serves"
      v-bind:key="serve.name"
      class="text-center"
    >
      <span
        class="clickable"
        @click="redirectTo(serve.route, serve.link)"
        v-if="!serve.needAdmin ||
            (serve.needAdmin && isAdmin)"
      >
        <v-icon
          class="serve-icon pb-4"
          :color="serve.color ? serve.color : 'primary'"
        >{{ serve.icon }}</v-icon>
        <h3>{{ serve.name }}</h3>
        <small>{{ serve.intro }}</small>
      </span>
    </v-col>
  </v-row>
</template>

<script>
export default {
  name: 'Serves',
  data: () => ({
    serves: [
      {
        name: '开源镜像站',
        icon: 'fas fa-compact-disc',
        intro: '成电开源镜像站',
        link: process.env.VUE_APP_MIRRORS_LINK,
      },
      {
        name: 'IPTV 直播',
        icon: 'fas fa-headset',
        intro: 'IPTV，好的 TV',
        link: process.env.VUE_APP_IPTV_LINK,
      },
      {
        name: '宿舍网络报修',
        icon: 'fas fa-tools',
        intro: '您的寝室生活救星',
        link: process.env.VUE_APP_REPAIR_LINK,
      },
      {
        name: '在线文档',
        icon: 'fas fa-file-alt',
        intro: '使用 Markdown 写作与分享',
        link: process.env.VUE_APP_MARKDOWN_LINK,
      },
      {
        name: 'MINECRAFT',
        icon: 'fas fa-cube',
        intro: '是一款堆方块的沙盒游戏',
        link: process.env.VUE_APP_MINECRAFT_LINK,
      },
      {
        name: 'CAT ROOM',
        icon: 'fas fa-cat',
        intro: '摸鱼聊天留言板',
        route: process.env.VUE_APP_CATROOM_LINK,
      },
      // {
      //   name: '开源项目',
      //   icon: 'fas fa-code',
      //   intro: '共同促进开源社区发展',
      //   route: process.env.VUE_APP_PROJECT_LINK,
      // },
      {
        name: 'ISSUES',
        icon: 'fas fa-tasks',
        intro: 'Bug 提交/意见反馈',
        link: process.env.VUE_APP_ISSUES_LINK,
      },
    ],
  }),
  created() {
    //
  },
  methods: {
    redirectTo(route, link) {
      if (route != null && route != '') {
        this.$router.push(route);
      } else if (link != null && link != '') {
        this.$Utils.openExternalLink(link);
      } else {
        console.log('跳转失败！请联系我们吐槽。');
        return false;
      }
      return true;
    },
  },
};
</script>

<style scoped>
.serve-icon {
  font-size: 84px;
}
</style>
